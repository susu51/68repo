{
  "summary": {
    "total_tests": 86,
    "passed_tests": 81,
    "failed_tests": 5,
    "success_rate": 94.18604651162791,
    "timestamp": "2025-09-27T03:44:32.322216",
    "test_type": "delivertr_mvp_core_business_flow",
    "core_flow_success": true
  },
  "test_results": [
    {
      "test": "Admin Authentication",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.664815"
    },
    {
      "test": "Admin Authentication - Wrong Password",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.699447"
    },
    {
      "test": "Business Registration",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.735800"
    },
    {
      "test": "Customer Registration",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.770148"
    },
    {
      "test": "Courier Registration",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.808120"
    },
    {
      "test": "Business Login",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.842263"
    },
    {
      "test": "Customer Login",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.875318"
    },
    {
      "test": "Product Creation",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.913388"
    },
    {
      "test": "Product Creation 2",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.945680"
    },
    {
      "test": "Product Creation 3",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:29.979578"
    },
    {
      "test": "Product Creation 4",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.017058"
    },
    {
      "test": "Get All Products",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.055506"
    },
    {
      "test": "Get Business Products",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.088919"
    },
    {
      "test": "Order Creation",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.124541"
    },
    {
      "test": "Get Customer Orders",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.158932"
    },
    {
      "test": "Get Business Orders",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.195039"
    },
    {
      "test": "Order Status Update - ASSIGNED",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.232504"
    },
    {
      "test": "Order Status Update - ON_ROUTE",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.267546"
    },
    {
      "test": "Order Status Update - DELIVERED",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.303138"
    },
    {
      "test": "Admin Get All Users",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.338800"
    },
    {
      "test": "Admin Get All Products",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.373808"
    },
    {
      "test": "Admin Get All Orders",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.413257"
    },
    {
      "test": "RBAC - Customer Create Product (Should Fail)",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.448027"
    },
    {
      "test": "RBAC - Business Access Admin (Should Fail)",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.486920"
    },
    {
      "test": "File Upload Endpoint",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.520788"
    },
    {
      "test": "KYC Get Couriers",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.556258"
    },
    {
      "test": "KYC Approve Courier",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.588100"
    },
    {
      "test": "Register Courier for Rejection Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.624191"
    },
    {
      "test": "KYC Reject Courier with Notes",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.660371"
    },
    {
      "test": "Register Courier for Flow Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.695284"
    },
    {
      "test": "KYC Status Update - APPROVED",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.726679"
    },
    {
      "test": "KYC Status Update - REJECTED",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.760807"
    },
    {
      "test": "KYC Status Update - PENDING",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.793943"
    },
    {
      "test": "KYC Get Couriers - No Auth (Should Fail)",
      "success": false,
      "details": "Expected 401, got 403. Error: {'detail': 'Not authenticated'}",
      "timestamp": "2025-09-27T03:44:30.825403"
    },
    {
      "test": "KYC Get Couriers - Business Token (Should Fail)",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.861875"
    },
    {
      "test": "KYC Get Couriers - Customer Token (Should Fail)",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.894546"
    },
    {
      "test": "KYC Update - Invalid Courier ID",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.930024"
    },
    {
      "test": "KYC Update - Invalid Status",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.963276"
    },
    {
      "test": "KYC Update - Malformed Body",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:30.996124"
    },
    {
      "test": "Register Courier for Notes Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.035311"
    },
    {
      "test": "KYC Update - With Notes",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.071739"
    },
    {
      "test": "KYC Update - Without Notes",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.106186"
    },
    {
      "test": "KYC Update - Empty Notes",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.138122"
    },
    {
      "test": "Approve Courier for Order Acceptance",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.172087"
    },
    {
      "test": "Create Order for Acceptance Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.207570"
    },
    {
      "test": "Accept Order - POST /orders/{order_id}/accept",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.241372"
    },
    {
      "test": "Approve Courier for Status Update Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.277310"
    },
    {
      "test": "Create Order for Status Update Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.311399"
    },
    {
      "test": "Accept Order for Status Verification",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.342483"
    },
    {
      "test": "Verify Order Status After Acceptance",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.376052"
    },
    {
      "test": "Order Acceptance Status Update",
      "success": false,
      "details": "Could not find accepted order in database",
      "timestamp": "2025-09-27T03:44:31.376730"
    },
    {
      "test": "Register Non-Approved Courier",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.409569"
    },
    {
      "test": "Create Order for KYC Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.443275"
    },
    {
      "test": "Non-Approved Courier Accept Order (Should Fail)",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.475538"
    },
    {
      "test": "Approve Courier for Acceptance Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.507402"
    },
    {
      "test": "Approved Courier Accept Order",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.537776"
    },
    {
      "test": "KYC Approval Check for Acceptance",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.538343"
    },
    {
      "test": "Approve Courier for Double Accept Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.570786"
    },
    {
      "test": "Create Order for Double Accept Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.603943"
    },
    {
      "test": "First Order Acceptance",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.636670"
    },
    {
      "test": "Second Order Acceptance (Should Fail)",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.669691"
    },
    {
      "test": "Already Accepted Order Error",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.670171"
    },
    {
      "test": "Approve Courier for Coordinates Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.702006"
    },
    {
      "test": "Get Nearby Orders for Coordinate Check",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.736464"
    },
    {
      "test": "Nearby Orders Realistic Coordinates",
      "success": false,
      "details": "No nearby orders returned",
      "timestamp": "2025-09-27T03:44:31.737015"
    },
    {
      "test": "Approve Courier for Complete Flow",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.770857"
    },
    {
      "test": "Create Order for Complete Flow",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.804274"
    },
    {
      "test": "Accept Order in Complete Flow",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.844258"
    },
    {
      "test": "Verify Final Order State",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.882404"
    },
    {
      "test": "Complete Order Acceptance Flow",
      "success": false,
      "details": "Could not find order in database",
      "timestamp": "2025-09-27T03:44:31.882988"
    },
    {
      "test": "Nearby Orders - Non-Approved Courier (Should Fail)",
      "success": false,
      "details": "Expected 403, got 200. Error: []",
      "timestamp": "2025-09-27T03:44:31.917709"
    },
    {
      "test": "Approve Test Courier for Nearby Orders",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.949824"
    },
    {
      "test": "Nearby Orders - Approved Courier",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:31.981361"
    },
    {
      "test": "Create Order for Visibility Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.018390"
    },
    {
      "test": "Ensure Courier KYC Approved",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.050365"
    },
    {
      "test": "Check Order in Nearby Orders",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.081727"
    },
    {
      "test": "Order Creation and Visibility Flow",
      "success": true,
      "details": "Order ae018e57-f9eb-4924-9f9e-80535fbc7740 successfully visible in courier nearby orders",
      "timestamp": "2025-09-27T03:44:32.082320"
    },
    {
      "test": "Get All Orders from Database",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.116075"
    },
    {
      "test": "Order Database Storage",
      "success": true,
      "details": "Orders properly stored in database: 1 created orders found",
      "timestamp": "2025-09-27T03:44:32.116765"
    },
    {
      "test": "Register Additional Customer 1",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.151485"
    },
    {
      "test": "Create Order for Customer 1",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.187429"
    },
    {
      "test": "Register Additional Customer 2",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.218377"
    },
    {
      "test": "Create Order for Customer 2",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.249938"
    },
    {
      "test": "Approve Courier for Multi-Customer Test",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.285329"
    },
    {
      "test": "Get Nearby Orders - Multi Customer",
      "success": true,
      "details": "",
      "timestamp": "2025-09-27T03:44:32.321252"
    },
    {
      "test": "Multiple Customers Order Visibility",
      "success": true,
      "details": "All 2 orders from multiple customers visible to courier",
      "timestamp": "2025-09-27T03:44:32.321867"
    }
  ],
  "created_entities": {
    "business_id": "da021946-4f66-4336-91b8-54b1a8db82c2",
    "customer_id": "f3b42e79-ddc6-4c93-b1dc-5950983de6fc",
    "courier_id": "73dda8b5-ef64-4fd4-88d4-dfc7025ecc42",
    "products": [
      "4fa31282-b890-4534-be53-8fdb3008deab",
      "88b283d4-17fe-4d84-bb23-8bddbcb6c48c",
      "bd051510-53ce-4b31-b23b-d85c0346a988",
      "09beed36-f728-4225-a509-02a2951fd562"
    ],
    "orders": [
      "ffc26b5e-b5f4-4eb8-b0b7-4c8b3a1d5437"
    ]
  }
}